<!DOCTYPE HTML>

<html>
  <head>
  <title>SWISH: SWI-Prolog for SHaring</title>
  </head>
<body>
<style>
p.note { margin-left: 5%; position: relative }
p.note span.glyphicon-hand-right {
float: left; font-size: 150%; color: orange; padding-right: 0.2em;
}
</style>


<h2 id="help-trill">TRILL manual</h2>
<p>
TRILL ("Tableau Reasoner for descrIption Logics in Prolog") implements a tableau algorithm in
Prolog to compute the set of all the explanations of a query. After generating the explanations, TRILL can computes the probability of the query. The management of the tableau rules' non-determinism is delegated to the Prolog language.
</p>
<p>
TRILL can compute the probability of queries using the commands shown below:
<dl>
  <dt><b>prob_instanceOf(Class,Individual,Prob)</b><dd>
  Concept membership queries.
  </dd>
  <dt><b>prob_sub_class(Class1,Class2,Prob)</b>
  <dd>
  Subsumption queries.
  </dd>
  <dt><b>prob_unsat(ClassExpression,Prob)</b><dd>
  Unsatifiability of a concept.
  </dd>
  <dt><b>prob_inconsistent_theory(Prob)</b><dd>
  Inconsistency of the knowledge base.
  </dd>
  </dl>
TRILL can test entailment or find an explanation <code>Expl</code> using the queries below:
<dl>
  <dt><b>instanceOf(Class,Individual),
instanceOf(Class,Individual,Expl)</b><dd>
  Concept membership queries.
  </dd>
  <dt><b>sub_class(Class1,Class2),
sub_class(Class1,Class2,Expl)</b>
  <dd>
  Subsumption queries.
  </dd>
  <dt><b>unsat(ClassExpression),
unsat(ClassExpression,Expl)</b><dd>
  Unsatifiability of a concept.
  </dd>
  <dt><b>inconsistent_theory,
inconsistent_theory(Expl)</b><dd>
  Inconsistency of the knowledge base.
  </dd>
  </dl>
</p>
<h2 id="help-write-kb">Writing knowledge bases</h3>
<p>A knowledge base consists of a set of possibly annotated axioms.
 An axiom is a proposition that models an information of the domain. There are several different axioms:
 <dl>
  <dt>Concept membership axioms<dd>
  An individual belongs to a certain class.
  </dd>
  <dt>Role membership axioms<dd>
  Two individuals are connected through a certain role.
  </dd>
  <dt>Transitivity axioms<dd>
  The role is transitive.
  </dd>
  <dt>Role inclusion axioms<dd>
  Hierarchy between roles.
  </dd>
  <dt>Concept inclusion axioms<dd>
  Hierarchy between concepts.
  </dd>
 </dl>
 </p>
 <p>
Regarding the definition of knowledge bases, TRILL allows the use of two different syntaxes used together or individually:
<ul>
  <li>RDF/XML</li>
  <li>TRILL syntax</li>
</ul>
RDF/XML syntax can be used by exploiting the predicate <code>owl_rdf/1</code>. For example:
<pre style="font-size:80%">
owl_rdf('
&lt;?xml version="1.0"?&gt;

&lt;!DOCTYPE rdf:RDF [
    &lt;!ENTITY owl "http://www.w3.org/2002/07/owl#" &gt;
    &lt;!ENTITY xsd "http://www.w3.org/2001/XMLSchema#" &gt;
    &lt;!ENTITY rdfs "http://www.w3.org/2000/01/rdf-schema#" &gt;
    &lt;!ENTITY rdf "http://www.w3.org/1999/02/22-rdf-syntax-ns#" &gt;
]&gt;

&lt;rdf:RDF xmlns="http://here.the.IRI.of.your.ontology#"
     xml:base="http://here.the.IRI.of.your.ontology"
     xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
     xmlns:owl="http://www.w3.org/2002/07/owl#"
     xmlns:xsd="http://www.w3.org/2001/XMLSchema#"
     xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"&gt;
    &lt;owl:Ontology rdf:about="http://here.the.IRI.of.your.ontology"/&gt;

    &lt;!-- 
    Axioms
    --&gt;

&lt;/rdf:RDF&gt;
').
</pre>
For a brief introduction on RDF/XML syntax see <i>RDF/XML syntax and tools</i> section below.
</p>
<p>
Note that each single <code>owl_rdf/1</code> must be self contained and well formatted, it must start and end with <code>rdf:RDF</code> tag and contain all necessary declarations (namespaces, entities, ...).
</p>
<p>
An example of the combination of both syntaxes is shown below. It models that <i>john</i> is an <i>employee</i> and that employees are <i>workers</i>, which are in turn people (modeled by the concept <i>person</i>).
<pre style="font-size:80%">
owl_rdf('&lt;?xml version="1.0"?&gt;
&lt;rdf:RDF xmlns="http://example.foo#"
     xml:base="http://example.foo"
     xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
     xmlns:owl="http://www.w3.org/2002/07/owl#"
     xmlns:xml="http://www.w3.org/XML/1998/namespace"
     xmlns:xsd="http://www.w3.org/2001/XMLSchema#"
     xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"&gt;
    &lt;owl:Ontology rdf:about="http://example.foo"/&gt;

    &lt;!-- Classes --&gt;
    &lt;owl:Class rdf:about="http://example.foo#worker"&gt;
        &lt;rdfs:subClassOf rdf:resource="http://example.foo#person"/&gt;
    &lt;/owl:Class&gt;

&lt;/rdf:RDF&gt;').

subClassOf('employee','worker').

owl_rdf('&lt;?xml version="1.0"?&gt;
&lt;rdf:RDF xmlns="http://example.foo#"
     xml:base="http://example.foo"
     xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
     xmlns:owl="http://www.w3.org/2002/07/owl#"
     xmlns:xml="http://www.w3.org/XML/1998/namespace"
     xmlns:xsd="http://www.w3.org/2001/XMLSchema#"
     xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"&gt;
    &lt;owl:Ontology rdf:about="http://example.foo"/&gt;
    
    &lt;!-- Individuals --&gt;
    &lt;owl:NamedIndividual rdf:about="http://example.foo#john"&gt;
        &lt;rdf:type rdf:resource="http://example.foo#employee"/&gt;
    &lt;/owl:NamedIndividual&gt;
&lt;/rdf:RDF&gt;').
</pre>
</p>

<h3 id="help-trill-syntax">TRILL Syntax</h3>
<p>
<b>Declarations</b>
</p>
<p>
TRILL syntax allows, as in standard OWL, the declaration of classes, properties, etc.
<pre style="font-size:80%">
class("classIRI").
datatype("datatypeIRI").
objectProperty("objectPropertyIRI").
dataProperty("dataPropertyIRI").
annotationProperty("annotationPropertyIRI").
namedIndividual("individualIRI").
</pre>
However, TRILL properly works also in their absence.
<p>
</p>
TRILL syntax allows also the declaration of aliases for namespaces by using the <code>kb_prefix/2</code> predicate.
<pre style="font-size:80%">
kb_prefix("foo","http://example.foo#").
</pre>
After this declaration, the prefix <code>foo</code> is available, thus, instead of <code>http://example.foo#john</code>, one can write <code>foo:john</code>.
It is possible to define also an empty prefix as
<pre style="font-size:80%">
kb_prefix("","http://example.foo#").
</pre>
or as
<pre style="font-size:80%">
kb_prefix([],"http://example.foo#").
</pre>
In this way <code>http://example.foo#john</code> can be written only as <code>john</code>.<br/>
</p>
<p class="note">
<span class="glyphicon glyphicon-hand-right"></span> Only one prefix per alias is allowed. Aliases defined in OWL/RDF part have the precedence, in case more than one prefix was assigned to the same alias, TRILL keeps only the first assignment.
</p>
<p>
<b>Axioms</b>
</p>
<p>
Axioms are modeled using the following predicates
<pre style="font-size:80%">
subClassOf("subClass","superClass").
equivalentClasses([list,of,classes]).
disjointClasses([list,of,classes]).
disjointUnion([list,of,classes]).

subPropertyOf("subProperty","superProperty").
equivalentProperties([list,of,properties]).
propertyDomain("propertyIRI","domainIRI").
propertyRange("propertyIRI","rangeIRI").
transitiveProperty("propertyIRI").

sameIndividual([list,of,individuals]).
differentIndividuals([list,of,individuals]).

classAssertion("classIRI","individualIRI").
propertyAssertion("propertyIRI","subjectIRI","objectIRI").
annotationAssertion("annotationIRI",axiom,literal('value')).
</pre>
For example, for asserting that <i>employee</i> is subclass of <i>worker</i> one can use
<pre style="font-size:80%">
subClassOf(employee,worker).
</pre>
while the assertion <i>worker</i> is equal to <i>workingman</i> can be defined as
<pre style="font-size:80%">
equivalentClasses([worker,workingman]).
</pre>
</p>
<p>
Annotation assertions can be defined, for example, as
<pre style="font-size:80%">
annotationAssertion(foo:myAnnotation,subClassOf(employee,worker),'myValue').
</pre>
</p>
<p>
In particular, an axiom can be annotated with a probability which defines the degree of belief in the truth of the axiom. See [1] for details.
</p>
<p>
Below, an example of an probabilistic axiom, following the TRILL syntax.
 <pre style="font-size:80%">
annotationAssertion('disponte:probability',subClassOf(employee,worker),literal('0.6')).
</pre>
<p>
<b>Concepts descriptions</b>
<p>
Complex concepts can be defined using different operators.
</p>
Existential and universal quantifiers
<pre style="font-size:80%">
someValuesFrom("propertyIRI","classIRI").
allValuesFrom("propertyIRI","classIRI").
</pre>
Union and intersection of concepts
<pre style="font-size:80%">
unionOf([list,of,classes]).
intersectionOf([list,of,classes]).
</pre>
Cardinality descriptions
<pre style="font-size:80%">
exactCardinality(cardinality,"propertyIRI").
exactCardinality(cardinality,"propertyIRI","classIRI").
maxCardinality(cardinality,"propertyIRI").
maxCardinality(cardinality,"propertyIRI","classIRI").
minCardinality(cardinality,"propertyIRI").
minCardinality(cardinality,"propertyIRI","classIRI").
</pre>
Complement of a concept
<pre style="font-size:80%">
complementOf("classIRI").
</pre>
Nominal concept
<pre style="font-size:80%">
oneOf([list,of,classes]).
</pre>
For example, the class <i>workingman</i> is the intersection of <i>worker</i> with the union of <i>man</i> and <i>woman</i>. It can be defined as:
<pre style="font-size:80%">
equivalentClasses([workingman,intersectionOf([worker,unionOf([man,woman])])]).
</pre>

<h3 id="help-rdf-syntax">RDF/XML syntax and tools</h3>
 <p>As said before, TRILL is able to automatically translate RDF/XML knowledge bases when passed as a string using 
the preticate <code>owl_rdf/1</code>.
</p>
 
 
 <p>  Consider the following axioms 

 <pre style="font-size:80%">
classAssertion(Cat,fluffy)
subClassOf(Cat,Pet)
propertyAssertion(hasAnimal,kevin,fluffy)
</pre>
</p>
<p>The first axiom states that <i>fluffy</i> is a <i>Cat</i>. The second states that every <i>Cat</i> is also a <i>Pet</i>. The third states that the role <i>hasAnimal</i> links together <i>kevin</i> and <i>fluffy</i>.

<p>RDF (Resource Descritpion Framework) is a standard W3C. See <a href="http://www.w3.org/TR/REC-rdf-syntax/">here</a> the syntax specification.
RDF is a standard XML-based used for representing knowledge by means of triples.
A representations of the three axioms seen above is shown below.
 <pre style="font-size:80%">
&lt;owl:NamedIndividual rdf:about="fluffy"&gt;
  &lt;rdf:type rdf:resource="Cat"/&gt;
&lt;/owl:NamedIndividual&gt;

&lt;owl:Class rdf:about="Cat"&gt;
  &lt;rdfs:subClassOf rdf:resource="Pet"/&gt;
&lt;/owl:Class&gt;

&lt;owl:ObjectProperty rdf:about="hasAnimal"/&gt;
&lt;owl:NamedIndividual rdf:about="kevin"&gt;
 &lt;hasAnimal rdf:resource="fluffy"/&gt;
&lt;/owl:NamedIndividual&gt;
</pre>
</p>

<p>
Annotations are assertable using an extension of RDF/XML. For example the annotated axiom below, defined using the TRILL sintax
 <pre style="font-size:80%">
annotationAssertion('disponte:probability',subClassOf('Cat','Pet'),literal('0.6')).
</pre>
is modeled using RDF/XML syntax as
 <pre style="font-size:80%">
&lt;owl:Class rdf:about="Cat"&gt;
 &lt;rdfs:subClassOf rdf:resource="Pet"/&gt;
&lt;/owl:Class&gt;
&lt;owl:Axiom&gt;
 &lt;disponte:probability rdf:datatype="&amp;xsd;decimal"&gt;0.6&lt;/disponte:probability&gt;
 &lt;owl:annotatedSource rdf:resource="Cat"/&gt;
 &lt;owl:annotatedTarget rdf:resource="Pet"/&gt;
 &lt;owl:annotatedProperty rdf:resource="&amp;rdfs;subClassOf"/&gt;
&lt;/owl:Axiom&gt;
</pre>
If you define the annotated axiom in the RDF/XML part, the annotation must be declared in the knowledge base as follow
  <pre style="font-size:80%">
&lt;!DOCTYPE rdf:RDF [
 ...
 &lt;!ENTITY disponte "https://sites.google.com/a/unife.it/ml/disponte#" &gt;
]&gt;

&lt;rdf:RDF
 ...
 xmlns:disponte="https://sites.google.com/a/unife.it/ml/disponte#"
 ...&gt;

 ...
 &lt;owl:AnnotationProperty rdf:about="&amp;disponte;probability"/&gt;
 ...
&lt;/rdf:RDF&gt;
</pre>
</p>

<p>There are many editors for developing knowledge bases, some of them are listed 
<a href="http://www.w3.org/2001/sw/wiki/Category:Editor">here</a>.
</p>

<p>
[1] Zese, R.: <i>Reasoning with Probabilistic Logics</i>. ArXiv e-prints <a href="http://arxiv.org/abs/1405.0915">1405.0915v3</a>. An extended abstract / full version of a paper accepted to be presented at the Doctoral Consortium of the 30th International Conference on Logic Programming (ICLP 2014), July 19-22, Vienna, Austria.
</p>


<h2 id="about-trill">ABOUT TRILL </h2>

<p>The algorithm for probabilistic inference (TRILL) is described in:</p>
<ul>
<li>
Riccardo Zese, Elena Bellodi, Evelina Lamma, Fabrizio Riguzzi, and Fabiano
  Aguiari.
 Semantics and inference for probabilistic description logics.
 In Fernando Bobillo, Rommel&nbsp;N. Carvalho, Paulo&nbsp;C.G. Costa, Claudia
  d'Amato, Nicola Fanizzi, Kathryn&nbsp;B. Laskey, Kenneth&nbsp;J. Laskey, Thomas
  Lukasiewicz, Matthias Nickles, and Michael Pool, editors, <em>Uncertainty
  Reasoning for the Semantic Web III</em>, volume 8816 of <em>Lecture Notes in
  Computer Science</em>, pages 79-99. Springer International Publishing,
  &copy; Springer International Publishing, 2014.
 The original publication is available at
  <a href="http://www.springerlink.com">http://www.springerlink.com</a>.<br/>
[&nbsp;<a href="http://ds.ing.unife.it/~friguzzi/latest_bib.html#RigBel14-URSWb-BC">bib</a>&nbsp;| 
<a href="http://dx.doi.org/10.1007/978-3-319-13413-0_5">DOI</a>&nbsp;| 
<a href="http://ds.ing.unife.it/~friguzzi/Papers/RigBel14-URSWb-BC.pdf">.pdf</a>&nbsp;]
</li>
<li>


Riccardo Zese, Elena Bellodi, Fabrizio Riguzzi, and Evelina Lamma.
 Tableau reasoners for probabilistic ontologies exploiting logic
  programming techniques.
 In Elena Bellodi and Alessio Bonfietti, editors, <em>Proceedings of
  the Doctoral Consortium (DC) co-located with the 14th Conference of the
  Italian Association for Artificial Intelligence (AI*IA 2015)</em>, volume 1485 of
  <em>CEUR Workshop Proceedings</em>, pages 1-6, Aachen, Germany, 2015.
  &copy; by the authors, Sun SITE Central Europe.<br/>
[&nbsp;<a href="http://ds.ing.unife.it/~friguzzi/latest_bib.html#ZesBel15-AIIADC-IW">bib</a>&nbsp;| 
<a href="http://ceur-ws.org/Vol-1485/paper1.pdf">.pdf</a>&nbsp;]
</li>
<li>
Riccardo Zese, Elena Bellodi, Evelina Lamma, and Fabrizio Riguzzi.
 Logic programming techniques for reasoning with probabilistic
  ontologies.
 In Odile Papini, Salem Benferhat, Laurent Garcia, and Marie-Laure
  Mugnier, editors, <em>International Workshop on Ontologies and Logic
  Programming for Query Answering</em>, &copy; by the authors, 2015.<br/>
[&nbsp;<a href="http://ds.ing.unife.it/~friguzzi/latest_bib.html#ZesBel15-OntoLP-IW">bib</a>&nbsp;| 
<a href="http://ds.ing.unife.it/~friguzzi/Papers/ZesBel-OntoLP15.pdf">.pdf</a>&nbsp;| 
<a href="http://ontolp.lsis.org/files/pdf/proc-ontolp.pdf#page=13">http</a>&nbsp;]
</li>
</ul>


</body>
</html>
